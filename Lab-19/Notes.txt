Using Docker as a Jenkins Agent
Now, letâ€™s take it to the next level by using Docker as an agent in Jenkins.
âœ… No need to install tools inside Jenkins!
âœ… Jenkins will dynamically spin up a Docker container for each job!

Step 1ï¸âƒ£: Enable Docker Plugin in Jenkins
Go to Jenkins Dashboard â†’ Manage Jenkins â†’ Manage Plugins

Install "Docker Pipeline" plugin

Restart Jenkins

Step 2ï¸âƒ£: Configure Jenkins to Use Docker Agent
Go to Jenkins Dashboard â†’ Manage Jenkins â†’ Manage Nodes and Clouds

Click Configure Clouds â†’ Add a new Cloud â†’ Docker

Set the Docker Host URL to:

perl
Copy
Edit
unix:///var/run/docker.sock
Click Test Connection (should be successful).

Save the settings. âœ…

Step 3ï¸âƒ£: Create a Pipeline with a Docker Agent
ğŸ”¹ Go to Jenkins â†’ New Item â†’ Pipeline â†’ OK
ğŸ”¹ Use this pipeline script:

groovy
Copy
Edit
pipeline {
    agent {
        docker { image 'node:18' }
    }
    stages {
        stage('Check Node.js Version') {
            steps {
                sh 'node -v'
            }
        }
        stage('Run Tests') {
            steps {
                sh 'npm install && npm test'
            }
        }
    }
}
Step 4ï¸âƒ£: Run the Pipeline
1ï¸âƒ£ Save the pipeline.
2ï¸âƒ£ Click Build Now.
3ï¸âƒ£ Jenkins will dynamically spin up a Docker container with Node.js!
4ï¸âƒ£ If successful, youâ€™ll see the Node.js version printed
