Scaling Jenkins with Docker Agents
Goal:
âœ… Use Docker containers as Jenkins agents
âœ… Scale Jenkins dynamically by launching temporary agents in Docker

ğŸ”¹ Step 1ï¸âƒ£: Install Required Plugins
Before we begin, ensure that the Docker Pipeline and Docker Plugin are installed:

1ï¸âƒ£ Go to Jenkins â†’ Manage Jenkins â†’ Manage Plugins
2ï¸âƒ£ Install:

Docker Pipeline

Docker Plugin
3ï¸âƒ£ Restart Jenkins

ğŸ”¹ Step 2ï¸âƒ£: Configure Docker as a Cloud Agent Provider
1ï¸âƒ£ Go to Manage Jenkins â†’ Configure System
2ï¸âƒ£ Scroll to Cloud â†’ Add a new cloud â†’ Docker
3ï¸âƒ£ Set:

Docker Host URI: unix:///var/run/docker.sock (for Linux)

DOCKER_TLS_VERIFY: Unchecked

Enabled: âœ…

4ï¸âƒ£ Under "Docker Agent Templates," click "Add"

Labels: docker-agent

Docker Image: jenkins/inbound-agent

Connect Method: Attach via JNLP

User: jenkins

Volumes: /var/run/docker.sock:/var/run/docker.sock

Enabled: âœ…

5ï¸âƒ£ Click Save

ğŸ”¹ Step 3ï¸âƒ£: Create a Pipeline Using Docker Agents
1ï¸âƒ£ Go to Jenkins â†’ New Item â†’ Pipeline
2ï¸âƒ£ Paste the following script:

groovy
Copy
Edit
pipeline {
    agent {
        docker {
            image 'alpine' 
        }
    }

    stages {
        stage('Check Docker Agent') {
            steps {
                sh 'echo "Running on a Docker agent!"'
                sh 'cat /etc/os-release'
            }
        }
    }
}
ğŸ”¹ Step 4ï¸âƒ£: Run the Pipeline & Verify
1ï¸âƒ£ Run the job
2ï¸âƒ£ If successful, you should see "Running on a Docker agent!" in the logs

