Helmfile - Managing Multiple Helm Releases
Goal:
âœ… Use Helmfile to manage multiple Helm releases
âœ… Deploy and update multiple applications with a single command
âœ… Integrate Helmfile with Jenkins pipeline

ğŸ”¹ Step 1ï¸âƒ£: Install Helmfile
If Helmfile is not installed, install it using:

sh
Copy
Edit
curl -sSL https://github.com/helmfile/helmfile/releases/latest/download/helmfile-linux-amd64 -o /usr/local/bin/helmfile
chmod +x /usr/local/bin/helmfile
âœ… Verify installation:

sh
Copy
Edit
helmfile --version
ğŸ”¹ Step 2ï¸âƒ£: Create a Helmfile
Create a new helmfile.yaml:

yaml
Copy
Edit
repositories:
  - name: bitnami
    url: https://charts.bitnami.com/bitnami

releases:
  - name: nginx
    namespace: default
    chart: bitnami/nginx
    version: 15.5.3

  - name: redis
    namespace: default
    chart: bitnami/redis
    version: 17.3.1
This defines two Helm releases (Nginx and Redis) from Bitnami charts.

ğŸ”¹ Step 3ï¸âƒ£: Deploy with Helmfile
Run the following command to deploy all applications:

sh
Copy
Edit
helmfile apply
âœ” Verify deployments:

sh
Copy
Edit
helm list
kubectl get pods -n default
ğŸ”¹ Step 4ï¸âƒ£: Update Applications
Modify helmfile.yaml, e.g., update Nginx version:

yaml
Copy
Edit
version: 15.6.0
Run:

sh
Copy
Edit
helmfile sync
ğŸš€ This updates all applications automatically!

ğŸ”¹ Step 5ï¸âƒ£: Automate with Jenkins
Modify your Jenkinsfile:

groovy
Copy
Edit
pipeline {
    agent any
    stages {
        stage('Deploy with Helmfile') {
            steps {
                sh 'helmfile apply'
            }
        }
    }
}
âœ” Jenkins will deploy multiple applications at once!

